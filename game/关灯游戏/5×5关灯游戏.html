<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>关灯游戏</title>
	<style>
	*{
		margin: 0;
		padding: 0;
	}
	.big{
		width: 500px;
		height: 500px;
		margin: auto;
		position: relative;
		margin-top: 100px;
	}
	.big>p{
		width: 500px;
		height: 500px;
		display: inline-block;
		position: absolute;
		font-size: 10em;
		line-height: 500px;
		text-align: center;
		left: 0;
	}
	.big>div{
		width: 98px;
		height: 98px;
		border: 1px solid blue;
		display: inline-block;
		float: left;
		line-height: 100px;
		text-align: center;
		font-size: 5em;
		color: yellow;
	}
	p{
		text-align: center;
		line-height: 100px;
	}
	button{
		display: inline-block;
		width: 100px;
		height: 30px;
	}
	</style>
</head>
<body>
	<div class="big">
		<div onclick="changes(0,0)" style="background-color:black;">1</div>
		<div onclick="changes(0,1)" style="background-color:black;">2</div>
		<div onclick="changes(0,2)" style="background-color:black;">3</div>
		<div onclick="changes(0,3)" style="background-color:black;">4</div>
		<div onclick="changes(0,4)" style="background-color:black;">5</div>
		<div onclick="changes(1,0)" style="background-color:black;">6</div>
		<div onclick="changes(1,1)" style="background-color:black;">7</div>
		<div onclick="changes(1,2)" style="background-color:black;">8</div>
		<div onclick="changes(1,3)" style="background-color:black;">9</div>
		<div onclick="changes(1,4)" style="background-color:black;">10</div>
		<div onclick="changes(2,0)" style="background-color:black;">11</div>
		<div onclick="changes(2,1)" style="background-color:black;">12</div>
		<div onclick="changes(2,2)" style="background-color:black;">13</div>
		<div onclick="changes(2,3)" style="background-color:black;">14</div>
		<div onclick="changes(2,4)" style="background-color:black;">15</div>
		<div onclick="changes(3,0)" style="background-color:black;">16</div>
		<div onclick="changes(3,1)" style="background-color:black;">17</div>
		<div onclick="changes(3,2)" style="background-color:black;">18</div>
		<div onclick="changes(3,3)" style="background-color:black;">19</div>
		<div onclick="changes(3,4)" style="background-color:black;">20</div>
		<div onclick="changes(4,0)" style="background-color:black;">21</div>
		<div onclick="changes(4,1)" style="background-color:black;">22</div>
		<div onclick="changes(4,2)" style="background-color:black;">23</div>
		<div onclick="changes(4,3)" style="background-color:black;">24</div>
		<div onclick="changes(4,4)" style="background-color:black;">25</div>
		<p id="level" style="background-color: red;z-index: -1;"></p>
	</div>
	<p><button onclick="make()">开始游戏</button></p>
</body>
<script>
	var count = 1;
	var amount = 0;
	var level = document.querySelector("#level");
	level.style.backgroundColor="red";
	level.style.zIndex=1;
	level.innerHTML="level-"+count;
	function make(){
		level.style.backgroundColor="transparent";
		level.style.zIndex=-1;
		var dian = document.querySelectorAll(".big>div");
		for(i=0;i<dian.length;i++){
			dian[i].style.backgroundColor = "black";
		}
		var arr = new Array();
		switch(count){
			case 1:
				arr = [7,11,12,13,17];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 2:
				arr = [1,5,6,7,11,13,17,18,19,23];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 3:
				arr = [4,7,8,13,15,20,21];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 4:
				arr = [0,1,3,4,5,14,17,18,23];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 5:
				arr = [0,1,3,4,5,7,9,11,12,13,15,17,19,20,21,23,24];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 6:
				arr = [0,1,3,4,10,11,13,14,20,21,23,24];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 7:
				arr = [0,3,6,7,8,9,11,12,13,15,16,17,18,21,24];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 8:
				arr = [0,1,4,5,9,13,17,18,20,21,22,23,24];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 9:
				arr = [0,1,3,4,5,9,11,12,13,17,20,22,24];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 10:
				arr = [1,2,3,5,7,9,15,17,19,21,22,23];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 11:
				arr = [0,1,2,3,4,5,7,9,10,11,13,14,15,17,19,20,21,22,23,24];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 12:
				arr = [2,3,5,6,8,11,13,14,17,20,21];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 13:
				arr = [2,3,5,6,7,12,13,16,20,23];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 14:
				arr = [0,4,5,6,8,11,15,20,23,24];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 15:
				arr = [1,4,6,7,9,10,11,16,18,23,24];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 16:
				arr = [10,12,14];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 17:
				arr = [2,6,8,10,12,14,16,18,22];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 18:
				arr = [12,16,17,18,20,21,22,23,24];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 19:
				arr = [0,1,2,3,5,9,10,14,15,19,20,21,22,23];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
			case 20:
				arr = [11,16,21];
				for(var i=0;i<arr.length;i++){
					dian[arr[i]].style.backgroundColor = "white";
				}break;
		}
	}
	function levels(count){
		level.style.backgroundColor="red";
		level.style.zIndex=1;
		level.innerHTML="level-"+count;
	}
	function changes(i,j){
		var dian = document.querySelectorAll(".big>div");
		var sum = i*5+j;
		if(dian[sum].style.backgroundColor == "black"){
			dian[sum].style.backgroundColor = "white";
		}else{
			dian[sum].style.backgroundColor = "black";
		}
		left(i,j);
		topp(i,j);
		right(i,j);
		bottom(i,j);
		for(i=0;i<dian.length;i++){
			if(dian[i].style.backgroundColor == "white"){
				amount++;
			}
		}
		if(amount == 0){
			if(count == 20){
				alert("通关。");
			}else{
				alert("过关。");
				count++;
				levels(count);
			}
		}
		amount = 0;
	}
	function left(i,j){
		var dian = document.querySelectorAll(".big>div");
		if(j>0){
			sum = i*5+(j-1);
			if(dian[sum].style.backgroundColor == "black"){
				dian[sum].style.backgroundColor = "white";
			}else{
				dian[sum].style.backgroundColor = "black";
			}
		}
	}
	function topp(i,j){
		var dian = document.querySelectorAll(".big>div");
		if(i>0){
			sum = (i-1)*5+j;
			if(dian[sum].style.backgroundColor == "black"){
				dian[sum].style.backgroundColor = "white";
			}else{
				dian[sum].style.backgroundColor = "black";
			}
		}
	}
	function right(i,j){
		var dian = document.querySelectorAll(".big>div");
		if(j<4){
			sum = i*5+(j+1);
			if(dian[sum].style.backgroundColor == "black"){
				dian[sum].style.backgroundColor = "white";
			}else{
				dian[sum].style.backgroundColor = "black";
			}
		}
	}
	function bottom(i,j){
		var dian = document.querySelectorAll(".big>div");
		if(i<4){
			sum = (i+1)*5+j;
			if(dian[sum].style.backgroundColor == "black"){
				dian[sum].style.backgroundColor = "white";
			}else{
				dian[sum].style.backgroundColor = "black";
			}
		}
	}
</script>
</html>